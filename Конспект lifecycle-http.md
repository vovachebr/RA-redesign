# Конспект занятия: Методы жизненного цикла и работа с HTTP в React

---

## План занятия
- Изучение методов жизненного цикла в классах и функциональных компонентах
- Использование хуков useState, useEffect, useLayoutEffect
- Сравнение классовых и функциональных компонентов
- Работа с HTTP-запросами и обработка состояний загрузки и ошибок
- Практическая реализация компонентов с жизненным циклом и запросами
- Итоги и рекомендации по React-разработке

---

## Основные понятия жизненного цикла React-компонента
- Жизненный цикл — этапы от создания до удаления компонента
- Этапы: Mounting, Updating, Unmounting, Error Handling
- Методы жизненного цикла позволяют управлять состоянием, подписками, запросами и оптимизацией

---

## Методы жизненного цикла в классовых компонентах
- Mounting: constructor, getDerivedStateFromProps, render, componentDidMount
- Updating: getDerivedStateFromProps, shouldComponentUpdate, render, getSnapshotBeforeUpdate, componentDidUpdate
- Unmounting: componentWillUnmount
- Error Handling: getDerivedStateFromError, componentDidCatch

---

## Хуки жизненного цикла в функциональных компонентах
- useState — управление состоянием
- useEffect — побочные эффекты (HTTP-запросы, подписки), аналог componentDidMount, componentDidUpdate, componentWillUnmount
- useLayoutEffect — синхронный эффект перед отрисовкой, аналог getSnapshotBeforeUpdate

---

## Сравнение классовых и функциональных компонентов
| Критерий               | Классовые               | Функциональные          |
|------------------------|------------------------|------------------------|
| Состояние              | this.state             | useState               |
| Методы жизненного цикла| componentDidMount и др.| useEffect              |
| Синтаксис              | ES6 классы             | Функции с хуками       |
| Читаемость             | Более громоздкий       | Компактный и декларативный |
| Производительность     | Иногда медленнее       | Обычно быстрее         |

---

## Работа с HTTP-запросами в React
- Запросы выполняются после монтирования (componentDidMount или useEffect)
- Используются fetch, Axios и др.
- Важно обрабатывать состояния загрузки и ошибки
- Пример: fetch в классовом и функциональном компонентах с обновлением состояния

---

## Практический проект
- Компонент UsersClass (классовый) и UsersFunction (функциональный) загружают список пользователей с API
- App переключает отображение между двумя компонентами
- Логирование жизненного цикла в консоль
- Обработка загрузки, ошибок и обновлений состояния

---

## Итоги и рекомендации
- Методы жизненного цикла и хуки — ключ к управлению поведением компонентов
- useEffect — универсальный инструмент для побочных эффектов
- HTTP-запросы следует делать после монтирования компонента
- Функциональные компоненты с хуками предпочтительнее для новых проектов
- Оптимизируйте рендеринг через shouldComponentUpdate и React.memo
- Чисто разделяйте логику загрузки, обновления и очистки ресурсов
```